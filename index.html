<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生日快乐！</title>
    <style>
        body {
            font-family: 'Brush Script MT', cursive;
            background: url("xingkong.jpg") no-repeat center center fixed;
            background-size: cover;
            color: white;
            text-align: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .heart {
            position: absolute;
            width: 20px;
            height: 20px;
            background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23d81b60'><path d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/></svg>") no-repeat;
            background-size: contain;
            animation: falling 10s linear infinite;
            opacity: 0.7;
        }
        
        
        
        @keyframes falling {
            0% {
                transform: translate(0, -10px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translate(var(--end-x), calc(100vh + 10px)) rotate(360deg);
                opacity: 0;
            }
        }
        
        
        @keyframes gradient {
            0% {background-position: 0% 50%;}
            50% {background-position: 100% 50%;}
            100% {background-position: 0% 50%;}
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.85);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(216, 27, 96, 0.3);
            color: #333;
        }
        h1 {
            font-size: 3em;
            margin-bottom: 20px;
        }
        .countdown {
            font-size: 1.5em;
            margin: 30px 0;
            padding: 15px;
            background-color: #f8bbd0;
            border-radius: 10px;
        }
        .photo-placeholder {
            margin: 20px auto;
            width: 300px;
            height: 300px;
            background-color: #fce4ec;
            border: 3px solid #d81b60;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(216, 27, 96, 0.4);
        }
        .photo-placeholder:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(216, 27, 96, 0.6);
        }
        .message {
            font-size: 1.2em;
            line-height: 1.6;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>亲爱的皮哥老婆，生日快乐！</h1>
        
        <div class="photo-placeholder">
            <img src="liny.jpg" alt="亲爱的皮哥老婆" style="width:100%; height:100%; object-fit:cover; border-radius:8px;">
        </div>
        
        <div class="countdown" id="countdown">
            距离4月21日还有: <span id="days"></span>天
        </div>
        
        <div class="message">
            <p>你是我生命中最好的礼物！</p>
            <p>愿你的每一天都像今天一样充满快乐和幸福！</p>
        </div>
    </div>

    <script>
        function updateCountdown() {
            const now = new Date();
            const currentYear = now.getFullYear();
            let birthday = new Date(currentYear, 3, 21); // 月份是0-based，4月是3
            
            // 如果生日已经过了今年，计算明年的生日
            if (now > birthday) {
                birthday = new Date(currentYear + 1, 3, 21);
            }
            
            const diff = birthday - now;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            
            document.getElementById('days').textContent = days;
        }
        
        updateCountdown();
        setInterval(updateCountdown, 86400000); // 每天更新一次
        
        // 创建飘落的心形
        function createHearts() {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.setProperty('--end-x', Math.random() * 100 + 'vw');
            heart.style.animationDuration = (Math.random() * 5 + 5) + 's';
            document.body.appendChild(heart);
            
            // 移除已经落到底部的心形
            setTimeout(() => {
                heart.remove();
            }, 10000);
        }
        
        // 创建闪烁的星星
        function createStars() {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + 'vw';
            star.style.top = Math.random() * 100 + 'vh';
            document.body.appendChild(star);
        }
        
        // 定期生成心形
        setInterval(createHearts, 300);
        // 添加背景音乐
        const audio = document.createElement('audio');
        audio.src = '给你一瓶魔法药水.mp3';
        audio.loop = true;
        // 移除静音属性，等待用户交互后播放
        document.body.appendChild(audio);
        
        // 页面加载后自动播放音乐
        // 添加触摸或点击事件监听，触发音频播放
        document.addEventListener('click', () => {
            audio.muted = false;
            audio.play().catch(e => console.log('播放失败:', e));
        });

        window.addEventListener('load', () => {
            audio.play().catch(e => console.log('自动播放失败:', e));
        });
        

    </script>
</body>
</html>